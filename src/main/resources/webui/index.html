<html lang="en">
    <head>
        <title>Auditor Node</title>
        <meta charset="UTF-8">
        <link rel="icon" type="image/png" href="/webui/favicon.png">
        <link rel="stylesheet" href="/webui/css/main.css">
        <link rel="stylesheet" href="/webui/css/metamask.css">
        <link rel="stylesheet" href="/webui/css/navigation.css">
        <link rel="stylesheet" href="/webui/css/auditing.css">
        <link rel="stylesheet" href="/webui/css/script-development.css">
        <script type="text/javascript" src="/webui/js/metamask.js" defer></script>
        <script type="text/javascript" src="/webui/js/navigation.js" defer></script>
        <script type="text/javascript" src="/webui/js/web-socket.js" defer></script>
        <script type="text/javascript" src="/webui/js/auditing.js" defer></script>
        <script type="text/javascript" src="/webui/js/script-development.js" defer></script>
    </head>
    <body>
        <div class="navbar">
            <button id="auditing-nav" class="navbar-button-selected" onclick="selectAuditing();">Auditing</button>
            <button id="script-development-nav" class="navbar-button"
                    onclick="selectScriptDevelopment();">Script Development
            </button>
            <button id="metamask-nav" class="navbar-metamask-button metamask-error" onclick="toggleMetamaskPanel();">?
            </button>
        </div>
        <div id="metamask-div" hidden>
            <p>MetaMask status unknown</p>
        </div>
        <div class="content-div">
            <div id="auditing-div">
                <div id="auditing-output-div" class="output-div"></div>
                <div id="auditing-assets">
                    <div class="available-assets-div">
                        <label for="assets-available-for-audit">Assets available for audit</label>
                    </div>
                    <div>
                        <ul id="assets-available-for-audit"></ul>
                    </div>
                    <div>
                        <button id="auditing-start-stop-button" class="large-button success-button"
                                onclick="startOrAbortAuditing();" disabled>Start Audit
                        </button>
                    </div>
                </div>
            </div>
            <div id="script-development-div" class="hidden-div">
                <div id="script-content">
                    <div id="script-source-div">
                        <div class="script-source-label-div">
                            <label for="script-source">Script source:</label>
                        </div>
                        <div>
                            <textarea id="script-source" class="script-source-text-area">function audit(auditData) {
    return AuditResult.success();
}</textarea>
                        </div>
                    </div>
                    <div class="script-screen-switcher" onclick="toggleScriptSourceAndScriptOutput();">
                        <svg aria-hidden="true" focusable="false" class="small-icon" xmlns="http://www.w3.org/2000/svg"
                             viewBox="0 0 300 512">
                            <circle cx="150" cy="256" r="80" fill="currentColor"/>
                        </svg>
                        <svg aria-hidden="true" focusable="false" class="small-icon" xmlns="http://www.w3.org/2000/svg"
                             viewBox="0 0 300 512">
                            <circle cx="150" cy="256" r="80" fill="currentColor"/>
                        </svg>
                        <svg aria-hidden="true" focusable="false" class="small-icon" xmlns="http://www.w3.org/2000/svg"
                             viewBox="0 0 300 512">
                            <circle cx="150" cy="256" r="80" fill="currentColor"/>
                        </svg>
                    </div>
                    <div id="script-output-div" class="hidden-script-content-div output-div"></div>
                </div>
                <div id="script-controls">
                    <div>
                        <button id="store-script-button" class="large-button success-button"
                                onclick="storeAuditingScript();">Store Script
                        </button>
                    </div>
                    <div class="script-ipfs-directory-div">
                        <label for="script-ipfs-directory">IPFS Directory:</label>
                    </div>
                    <div>
                        <input id="script-ipfs-directory" type="text" class="ipfs-hash-input">
                    </div>
                    <div class="script-input-json-div">
                        <label for="script-input-json">Input JSON:</label>
                    </div>
                    <div>
                        <textarea id="script-input-json" class="script-input-json-text-area">{}</textarea>
                    </div>
                    <div>
                        <button id="script-start-stop-button" class="large-button success-button"
                                onclick="startOrStopScript();" disabled>Start Script
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
